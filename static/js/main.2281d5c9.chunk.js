(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(17),r=n.n(o),i=n(8),s=n(3),u=n(0),l=function(e){var t=e.onFormSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o),r("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{value:o,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value)}})]})})},j=function(e){var t=e.imageData,n=e.onShowModal;return Object(u.jsx)("li",{onClick:function(){return n(t.largeImageURL,t.tags)},className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"})})},b=function(e){var t=e.children,n=e.onShowModal;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){return Object(u.jsx)(j,{imageData:e,onShowModal:n},t)}))})},m=function(e){var t=e.onFatchImages;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"loadMoreButton",onClick:t,type:"button",children:Object(u.jsx)("span",{children:"Load more"})})})},d=function(e){var t=e.picture,n=e.description,c=void 0===n?"image":n,o=e.onCloseModal;return Object(a.useEffect)((function(){function e(e){"Escape"===e.key&&o()}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}})),Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&o()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:t,alt:c})})})},h=n(6),f=n.n(h);f.a.defaults.baseURL="https://pixabay.com/api/",f.a.defaults.params={key:"16958018-5870f5be4b9a0ed4e53bb3835",image_type:"photo",orientation:"horizontal",per_page:12};var O=function(e,t){return f.a.get("?q=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},p=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(s.a)(o,2),j=r[0],h=r[1],f=Object(a.useState)(1),p=Object(s.a)(f,2),g=p[0],x=p[1],S=Object(a.useState)(""),v=Object(s.a)(S,2),w=v[0],y=v[1],N=Object(a.useState)(!1),F=Object(s.a)(N,2),k=F[0],I=F[1],M=Object(a.useState)(""),C=Object(s.a)(M,2),E=C[0],L=C[1],D=Object(a.useState)(""),G=Object(s.a)(D,2),R=G[0],U=G[1],B=function(e,t){k?I(!1):(L((function(e){return t})),U((function(t){return e})),I(!0))},J=function(e){h(!0),O(e,g).then((function(e){var t=e.hits;c((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).then((function(){return h(!1)})).catch((function(e){console.log(e)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))};return Object(a.useEffect)((function(){""===w&&1===g||J(w)}),[g]),Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{onFormSubmit:function(e){h(!0),x(1),c([]),y(e),J(e)}}),Object(u.jsx)(b,{onShowModal:B,children:n}),n.length>0&&!j&&Object(u.jsx)(m,{onFatchImages:function(){x((function(e){return e+1}))}}),k&&Object(u.jsx)(d,{picture:R,description:E,onCloseModal:B})]})};n(41),n(42);r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.2281d5c9.chunk.js.map